(deftemplate ask (teacher (?question expr)) (print "teacher say: yes, I know " ?question ", answer is " (value-of $(value-of ?question)) ". "))
;;;

(out-to-file "result/template/XRFactorDefTemplateTest/test_3_scope_a_1.txt" (print-subject 1))
;;;

(do
    (deftemplate ask (student (?question expr)) (print "student say: no, I don't know " ?question "."))
    (out-to-file "result/template/XRFactorDefTemplateTest/test_3_scope_a_2.txt" (print-subject 2))
    (ask teacher (+ 1 1))
    (ask student (+ 1 1))
)
;;;

(ask teacher (+ 1 1))
;;;

(ask student (+ 1 1))
;;;

(out-to-file "result/template/XRFactorDefTemplateTest/test_3_scope_a_3.txt" (print-subject 1))
;;;