(deftemplate ask (teacher (?question expr)) (print "teacher say: yes, I know " ?question ", answer is " (value-of $(value-of ?question)) ". "))
;;;

;; ************ A print-subject 1 ******************
(print-subject 1)
;;;

(do
    (deftemplate ask (student (?question expr)) (print "student say: no, I don't know " ?question "."))
    ;; ************ B print-subject 2 ******************
    (print-subject 2)
    (ask teacher (+ 1 1))
    (ask student (+ 1 1))
)
;;;

(ask teacher (+ 1 1))
;;;

(ask student (+ 1 1))
;;;

;; ************ C print-subject 1 ******************
(print-subject 1)
;;;