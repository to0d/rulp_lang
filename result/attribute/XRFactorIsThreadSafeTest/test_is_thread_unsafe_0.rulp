(load math)
(load map)
(load queue)
(load set)
(load stack)
(load string)
(load tool)
;=>

(defun ls-is-thread-safe-objects (?subject) 
    (if (equal ?subject local)
    
        (ls-is-thread-safe-objects (value-of (:: (value-of local::parent) parent)))
        
        (loop for ?mbr in (ls ?subject) do 
            (if (not (is-thread-safe  $(value-of (value-of ?mbr))))
                (print (str-format "obj=%-20s, type=%s\n" 
                            (name-of $(value-of ?mbr)) 
                             (to-string (type-of $(value-of (value-of ?mbr))))))
            )
        )
    )
)
;;;

(ls-is-thread-safe-objects root)
;;;

(ls-is-thread-safe-objects system)
;;;

(ls-is-thread-safe-objects main)
;;;
