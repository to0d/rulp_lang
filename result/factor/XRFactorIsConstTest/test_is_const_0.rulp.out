(defun ls-is-const (?subject) 
    (if (equal ?subject local)
    
        (ls-is-const (value-of (:: (value-of local::parent) parent)))
        
        (loop for ?mbr in (ls ?subject) do 
            (print "obj=" (name-of $(value-of ?mbr)))
            (print ", type=" (type-of $(value-of (value-of ?mbr))))
            (print ", const=" (is-const  $(value-of (value-of ?mbr))))
            (print "\n")
        )
    )
)
;=>ls-is-const

(ls-is-const root)
;=>nil
;out:
obj=!=, type=factor, const=true
obj=%, type=factor, const=true
obj=&, type=factor, const=true
obj=*, type=factor, const=true
obj=+, type=factor, const=true
obj=-, type=factor, const=true
obj=/, type=factor, const=true
obj=::, type=factor, const=true
obj=<, type=factor, const=true
obj=<=, type=factor, const=true
obj==, type=factor, const=true
obj=>, type=factor, const=true
obj=>=, type=factor, const=true
obj=?file.separator, type=var, const=false
obj=?os.name, type=var, const=false
obj=?os.version, type=var, const=false
obj=?path.separator, type=var, const=false
obj=?user.dir, type=var, const=false
obj=?user.home, type=var, const=false
obj=?user.name, type=var, const=false
obj=^, type=factor, const=true
obj=access, type=factor, const=true
obj=add-array-to-list, type=factor, const=true
obj=add-attribute, type=factor, const=true
obj=add-list-to-array, type=factor, const=true
obj=add-list-to-list, type=factor, const=true
obj=add_search_frame, type=factor, const=true
obj=alias, type=factor, const=true
obj=and, type=factor, const=true
obj=array, type=atom, const=true
obj=atom, type=atom, const=true
obj=attribute-of, type=factor, const=true
obj=blob, type=atom, const=true
obj=blob-length, type=factor, const=true
obj=bool, type=atom, const=true
obj=break, type=factor, const=true
obj=can-cast, type=factor, const=true
obj=case, type=factor, const=true
obj=class, type=atom, const=true
obj=class-of, type=factor, const=true
obj=cmp_def, type=factor, const=true
obj=compute, type=factor, const=true
obj=constant, type=atom, const=true
obj=continue, type=factor, const=true
obj=date, type=factor, const=true
obj=default, type=atom, const=true
obj=defclass, type=factor, const=true
obj=defconst, type=factor, const=true
obj=defmacro, type=factor, const=true
obj=deftemplate, type=factor, const=true
obj=defun, type=factor, const=true
obj=defvar, type=factor, const=true
obj=delete, type=factor, const=true
obj=do, type=factor, const=true
obj=do-p, type=factor, const=true
obj=do-when-obj-deleted, type=factor, const=true
obj=do-when-var-changed, type=factor, const=true
obj=double, type=atom, const=true
obj=equal_def, type=factor, const=true
obj=error, type=factor, const=true
obj=error-value, type=factor, const=true
obj=expr, type=atom, const=true
obj=factor, type=atom, const=true
obj=false, type=bool, const=true
obj=final, type=atom, const=true
obj=float, type=atom, const=true
obj=foreach, type=factor, const=true
obj=frame, type=atom, const=true
obj=frame-of, type=factor, const=true
obj=from, type=atom, const=true
obj=func, type=atom, const=true
obj=get-of-array, type=factor, const=true
obj=get-of-list, type=factor, const=true
obj=has-member, type=factor, const=true
obj=if, type=factor, const=true
obj=instance, type=atom, const=true
obj=int, type=atom, const=true
obj=is-const, type=factor, const=true
obj=is-stable, type=factor, const=true
obj=join, type=factor, const=true
obj=lambda, type=factor, const=true
obj=let, type=factor, const=true
obj=list, type=atom, const=true
obj=list-function-in-return, type=factor, const=true
obj=load, type=factor, const=true
obj=long, type=atom, const=true
obj=loop, type=factor, const=true
obj=ls, type=factor, const=true
obj=macro, type=atom, const=true
obj=make-array, type=factor, const=true
obj=make-blob, type=factor, const=true
obj=make-list, type=factor, const=true
obj=make-string, type=factor, const=true
obj=member, type=atom, const=true
obj=name-of, type=factor, const=true
obj=namespace, type=class, const=false
obj=nan, type=atom, const=true
obj=native, type=atom, const=true
obj=new, type=factor, const=true
obj=nil, type=null, const=true
obj=noclass, type=class, const=true
obj=not, type=factor, const=true
obj=null, type=atom, const=true
obj=open-txt-file, type=factor, const=true
obj=opt-status, type=factor, const=true
obj=or, type=factor, const=true
obj=out-to-file, type=factor, const=true
obj=parent-of, type=factor, const=true
obj=power, type=factor, const=true
obj=print, type=factor, const=true
obj=print-frame-tree, type=factor, const=true
obj=print-global-info, type=factor, const=true
obj=print-impl, type=factor, const=true
obj=print-subject, type=factor, const=true
obj=private, type=atom, const=true
obj=property-of, type=factor, const=true
obj=public, type=atom, const=true
obj=random, type=factor, const=true
obj=reduct, type=factor, const=true
obj=ref, type=factor, const=true
obj=remove, type=factor, const=true
obj=return, type=factor, const=true
obj=reverse, type=factor, const=true
obj=root, type=frame, const=false
obj=rulp-object-count, type=factor, const=true
obj=runtime-call-count, type=factor, const=true
obj=save-txt-file, type=factor, const=true
obj=search-frame-of, type=factor, const=true
obj=seta, type=factor, const=true
obj=setq, type=factor, const=true
obj=size-of-array, type=factor, const=true
obj=size-of-list, type=factor, const=true
obj=sleep, type=factor, const=true
obj=sort, type=factor, const=true
obj=static, type=atom, const=true
obj=str-char-at, type=factor, const=true
obj=str-end-with, type=factor, const=true
obj=str-equal, type=factor, const=true
obj=str-equal-nocase, type=factor, const=true
obj=str-format, type=factor, const=true
obj=str-index-of, type=factor, const=true
obj=str-last-index-of, type=factor, const=true
obj=str-length, type=factor, const=true
obj=str-match, type=factor, const=true
obj=str-replace, type=factor, const=true
obj=str-split, type=factor, const=true
obj=str-split-line, type=factor, const=true
obj=str-start-with, type=factor, const=true
obj=str-substr, type=factor, const=true
obj=str-trim, type=factor, const=true
obj=str-trim-head, type=factor, const=true
obj=str-trim-tail, type=factor, const=true
obj=str-upper, type=factor, const=true
obj=strcat, type=factor, const=true
obj=string, type=atom, const=true
obj=subject-of, type=factor, const=true
obj=sys-free-memory, type=factor, const=true
obj=sys-gc, type=factor, const=true
obj=sys-time, type=factor, const=true
obj=sys-total-memory, type=factor, const=true
obj=to-atom, type=factor, const=true
obj=to-blob, type=factor, const=true
obj=to-expr, type=factor, const=true
obj=to-int, type=factor, const=true
obj=to-named-list, type=factor, const=true
obj=to-nonamed-list, type=factor, const=true
obj=to-string, type=factor, const=true
obj=true, type=bool, const=true
obj=try, type=factor, const=true
obj=type#namespace, type=atom, const=true
obj=type#noclass, type=atom, const=true
obj=type-of, type=factor, const=true
obj=union, type=factor, const=true
obj=uniq, type=factor, const=true
obj=value-of, type=factor, const=true
obj=value-type-of, type=factor, const=true
obj=var, type=atom, const=true
obj=when, type=factor, const=true
obj=write-blob, type=factor, const=true
obj=|, type=factor, const=true
obj=~, type=factor, const=true

;eof

(ls-is-const system)
;=>nil
;out:
obj=++, type=macro, const=true
obj=--, type=macro, const=true
obj=?load-paths, type=var, const=false
obj=?script-path, type=var, const=false
obj=?trace, type=var, const=false
obj=_ginfo, type=func, const=false
obj=add, type=func, const=false
obj=add-all, type=func, const=true
obj=clear, type=func, const=false
obj=cmp, type=func, const=true
obj=equal, type=func, const=false
obj=file-prename, type=func, const=true
obj=file-subffix, type=func, const=true
obj=get, type=func, const=false
obj=is-blank, type=func, const=true
obj=is-empty, type=func, const=false
obj=length-of, type=func, const=false
obj=ls-print, type=func, const=false
obj=map, type=class, const=false
obj=print-list, type=macro, const=true
obj=println, type=func, const=false
obj=queue, type=class, const=false
obj=root, type=frame, const=false
obj=script_out, type=macro, const=true
obj=set, type=class, const=false
obj=size-of, type=func, const=false
obj=stack, type=class, const=false
obj=system, type=frame, const=false
obj=to-array, type=func, const=true
obj=to-list, type=func, const=false
obj=type#map, type=atom, const=true
obj=type#queue, type=atom, const=true
obj=type#set, type=atom, const=true
obj=type#stack, type=atom, const=true
obj=use, type=template, const=false

;eof

(ls-is-const main)
;=>nil
;out:
obj=?script-path, type=var, const=false
obj=ls-is-const, type=func, const=true
obj=main, type=frame, const=false
obj=root, type=frame, const=false
obj=system, type=frame, const=false

;eof

